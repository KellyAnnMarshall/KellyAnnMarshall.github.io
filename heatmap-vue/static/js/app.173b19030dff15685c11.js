webpackJsonp([1],{NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),a=n("//Fk"),r=n.n(a),s={name:"bird",props:["name","counties","selectedBird","birdData"],watch:{selectedBird:function(e,t){this.setMapStyles()}},data:function(){return{vueGMap:null,mapName:this.name+"-map",API_KEY:"AIzaSyABMn-MgNcLK-49_HUSgM1NaVE1DYopc9c"}},mounted:function(){this.createGoogleMaps().then(this.initGoogleMaps,this.googleMapsFailedToLoad)},methods:{createGoogleMaps:function(){var e=this;return new r.a(function(t,n){var o=document.createElement("script");o.src="https://maps.googleapis.com/maps/api/js?key="+e.API_KEY,o.type="text/javascript",o.onload=t,o.onerror=n,document.body.appendChild(o)})},initGoogleMaps:function(){this.requestLoading();var e=document.getElementById(this.mapName);this.vueGMap=new google.maps.Map(e,{zoom:6,center:{lat:56.0053834,lng:-2.5742888},disableDefaultUI:!0,styles:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}]}),this.vueGMap.data.loadGeoJson("../../static/counties.json"),this.setMapStyles(),this.requestLoaded()},googleMapsFailedToLoad:function(){this.vueGMap="Error occurred"},setMapStyles:function(){var e=this;this.vueGMap.data.setStyle(function(t){var n=t.getProperty("name"),o="#000";return e.birdData.map(function(a){a.Species===e.selectedBird&&a.County===n&&(t.setProperty("bird",a),o=e.setColor(a.percent_gardens_2018))}),{fillColor:o,fillOpacity:.8,strokeColor:"#000",strokeOpacity:.2,strokeWeight:1}}),this.vueGMap.data.addListener("mouseover",function(t){var n=t.feature.getProperty("name");e.vueGMap.data.revertStyle(),e.vueGMap.data.overrideStyle(t.feature,{fillOpacity:1}),e.requestHighlight(n)}),this.vueGMap.data.addListener("mouseout",function(){e.vueGMap.data.revertStyle(),e.requestReset()})},requestHighlight:function(e){this.$emit("highlight",e)},requestReset:function(){this.$emit("reset")},setColor:function(e){return e>95?"#990100":e>90?"#cc0001":e>85?"#fe0000":e>80?"#ff3300":e>75?"#ff6600":e>70?"#fe9900":e>65?"#ffcc00":e>60?"#fffc00":e>55?"#cbfe33":e>50?"#98ff66":e>45?"#67ff9a":e>40?"#33ffcc":e>35?"#00ffff":e>30?"#00ccff":e>25?"#0099ff":e>20?"#0166ff":e>15?"#0000fe":e>10?"#0033ff":e>5?"#0000cc":"#000098"},requestLoaded:function(){this.$emit("mapLoaded")},requestLoading:function(){this.$emit("mapLoading")}}},i={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"google-map",attrs:{id:this.mapName}})},staticRenderFns:[]};var l=n("VU/8")(s,i,!1,function(e){n("TB9h")},"data-v-4026a17e",null).exports,c={name:"DropdownList",data:function(){return{selectedOption:null}},props:{value:null,options:{type:Array,required:!0}},mounted:function(){this.selectedOption=this.value},watch:{value:function(e){this.selectedOption=e}}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedOption,expression:"selectedOption"}],staticClass:"dropdown-list",on:{input:function(t){e.$emit("input",t.target.value)},change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedOption=t.target.multiple?n:n[0]}}},e._l(e.options,function(t,o){return n("option",{key:o,domProps:{value:t}},[e._v(e._s(t))])}))},staticRenderFns:[]};var u={name:"App",components:{GoogleMap:l,DropdownList:n("VU/8")(c,d,!1,function(e){n("qnN3")},"data-v-4fbe5bd4",null).exports},data:function(){return{loaded:!1,selectedCounty:null,counties:[],birdData:[],birdOptions:[],selectedBird:"Blackbird"}},methods:{highlightCounty:function(e){this.selectedCounty=e},resetCounty:function(){this.selectedCounty=null},mapIsLoaded:function(){this.loaded=!0},mapIsLoading:function(){this.loaded=!1},setColor:function(e){return e>95?"#990100":e>90?"#cc0001":e>85?"#fe0000":e>80?"#ff3300":e>75?"#ff6600":e>70?"#fe9900":e>65?"#ffcc00":e>60?"#fffc00":e>55?"#cbfe33":e>50?"#98ff66":e>45?"#67ff9a":e>40?"#33ffcc":e>35?"#00ffff":e>30?"#00ccff":e>25?"#0099ff":e>20?"#0166ff":e>15?"#0000fe":e>10?"#0033ff":e>5?"#0000cc":"#000098"}},computed:{imageFilename:function(){return this.selectedBird.replace(/\s+/g,"-").toLowerCase()+".png"},highlightedCounty:function(){var e=this,t=this.birdData.find(function(t){return t.County.match(e.selectedCounty)&&t.Species.match(e.selectedBird)});return t.activeColor=this.setColor(t.percent_gardens_2018),t}},created:function(){var e=this;fetch("static/birddata.json").then(function(e){return e.json()}).then(function(t){var n=[];e.birdData=t,t.filter(function(e){if(-1===n.indexOf(e.Species)&&e.percent_gardens_2018>40)return n.push(e.Species)}),e.birdOptions=n.sort()}),fetch("static/counties.json").then(function(e){return e.json()}).then(function(t){e.counties=t})}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"loader",class:{"is-paused fade":!this.loaded}},[e._m(0)]),e._v(" "),n("div",{staticClass:"legend",style:{background:"#666 url(static/images/"+e.imageFilename+") no-repeat 0px 50px"}},[n("dropdown-list",{attrs:{options:e.birdOptions},model:{value:e.selectedBird,callback:function(t){e.selectedBird=t},expression:"selectedBird"}}),e._v(" "),e.selectedCounty?n("h1",{style:{borderLeftColor:e.highlightedCounty.activeColor}},[e._v(e._s(e.highlightedCounty.County))]):e._e(),e._v(" "),e.selectedCounty?n("p",[n("span",[e._v(e._s(e.highlightedCounty.percent_gardens_2018)+"% of gardens")])]):e._e()],1),e._v(" "),n("google-map",{attrs:{name:"bird",counties:e.counties,birdData:e.birdData,selectedBird:e.selectedBird},on:{highlight:e.highlightCounty,reset:e.resetCounty,mapLoaded:e.mapIsLoaded,mapLoading:e.mapIsLoading}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"lds-ripple"},[t("div"),t("div")])}]};var p=n("VU/8")(u,f,!1,function(e){n("baIm")},null,null).exports;o.a.config.productionTip=!1,new o.a({el:"#app",components:{App:p},template:"<App/>"})},TB9h:function(e,t){},baIm:function(e,t){},qnN3:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.173b19030dff15685c11.js.map