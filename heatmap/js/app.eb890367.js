(function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],f=0,d=[];f<s.length;f++)i=s[f],o[i]&&d.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={1:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;a.push([3,0]),n()})({3:function(e,t,n){e.exports=n("Vtdi")},"3EjE":function(e,t,n){},Edo9:function(e,t,n){},Vtdi:function(e,t,n){"use strict";n.r(t);n("VRzm");var r=n("Kw5r"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"loader",class:{"is-paused fade":!this.loaded}},[e._m(0)]),n("div",{staticClass:"legend",style:{background:"#666 url(images/"+e.imageFilename+") no-repeat 0px 50px"}},[n("dropdown-list",{attrs:{options:e.birdOptions},model:{value:e.selectedBird,callback:function(t){e.selectedBird=t},expression:"selectedBird"}}),e.selectedCounty?n("h1",{style:{borderLeftColor:e.highlightedCounty.activeColor}},[e._v(e._s(e.highlightedCounty.County))]):e._e(),e.selectedCounty?n("p",[n("span",[e._v(e._s(e.highlightedCounty.percent_gardens_2018)+"%")]),e._v(" of gardens")]):e._e()],1),n("google-map",{attrs:{name:"bird",counties:e.counties,birdData:e.birdData,selectedBird:e.selectedBird},on:{highlight:e.highlightCounty,reset:e.resetCounty,mapLoaded:e.mapIsLoaded,mapLoading:e.mapIsLoading}})],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"lds-ripple"},[n("div"),n("div")])}],i=(n("Vd3H"),n("SRfc"),n("dRSK"),n("pIFo"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"google-map",attrs:{id:e.mapName}})}),s=[],l=(n("f3/d"),{name:"bird",props:["name","counties","selectedBird","birdData"],watch:{selectedBird:function(e,t){this.setMapStyles()}},data:function(){return{vueGMap:null,mapName:this.name+"-map",API_KEY:"AIzaSyABMn-MgNcLK-49_HUSgM1NaVE1DYopc9c"}},mounted:function(){this.createGoogleMaps().then(this.initGoogleMaps,this.googleMapsFailedToLoad)},methods:{createGoogleMaps:function(){var e=this;return new Promise(function(t,n){var r=document.createElement("script");r.src="https://maps.googleapis.com/maps/api/js?key=".concat(e.API_KEY),r.type="text/javascript",r.onload=t,r.onerror=n,document.body.appendChild(r)})},initGoogleMaps:function(){this.requestLoading();var e=document.getElementById(this.mapName),t={zoom:6,center:{lat:56.0053834,lng:-2.5742888},disableDefaultUI:!0,styles:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}]};this.vueGMap=new google.maps.Map(e,t),this.vueGMap.data.loadGeoJson("data/counties.json"),this.setMapStyles(),this.requestLoaded()},googleMapsFailedToLoad:function(){this.vueGMap="Error occurred"},setMapStyles:function(){var e=this;this.vueGMap.data.setStyle(function(t){var n=t.getProperty("name"),r="#000";return e.birdData.map(function(o){o.Species===e.selectedBird&&o.County===n&&(t.setProperty("bird",o),r=e.setColor(o.percent_gardens_2018))}),{fillColor:r,fillOpacity:.8,strokeColor:"#000",strokeOpacity:.2,strokeWeight:1}}),this.vueGMap.data.addListener("mouseover",function(t){var n=t.feature.getProperty("name");e.vueGMap.data.revertStyle(),e.vueGMap.data.overrideStyle(t.feature,{fillOpacity:1}),e.requestHighlight(n)}),this.vueGMap.data.addListener("mouseout",function(){e.vueGMap.data.revertStyle(),e.requestReset()})},requestHighlight:function(e){this.$emit("highlight",e)},requestReset:function(){this.$emit("reset")},setColor:function(e){return e>95?"#990100":e>90?"#cc0001":e>85?"#fe0000":e>80?"#ff3300":e>75?"#ff6600":e>70?"#fe9900":e>65?"#ffcc00":e>60?"#fffc00":e>55?"#cbfe33":e>50?"#98ff66":e>45?"#67ff9a":e>40?"#33ffcc":e>35?"#00ffff":e>30?"#00ccff":e>25?"#0099ff":e>20?"#0166ff":e>15?"#0000fe":e>10?"#0033ff":e>5?"#0000cc":"#000098"},requestLoaded:function(){this.$emit("mapLoaded")},requestLoading:function(){this.$emit("mapLoading")}}}),c=l,u=(n("stqN"),n("KHd+")),f=Object(u["a"])(c,i,s,!1,null,null,null),d=f.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedOption,expression:"selectedOption"}],staticClass:"dropdown-list",on:{input:function(t){e.$emit("input",t.target.value)},change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.selectedOption=t.target.multiple?n:n[0]}}},e._l(e.options,function(t,r){return n("option",{key:r,domProps:{value:t}},[e._v(e._s(t))])}))},y=[],h={name:"DropdownList",data:function(){return{selectedOption:null}},props:{value:null,options:{type:Array,required:!0}},mounted:function(){this.selectedOption=this.value},watch:{value:function(e){this.selectedOption=e}}},m=h,g=(n("XfpW"),Object(u["a"])(m,p,y,!1,null,null,null)),v=g.exports,b={name:"App",components:{GoogleMap:d,DropdownList:v},data:function(){return{loaded:!1,selectedCounty:null,counties:[],birdData:[],birdOptions:[],selectedBird:"Blackbird"}},methods:{highlightCounty:function(e){this.selectedCounty=e},resetCounty:function(){this.selectedCounty=null},mapIsLoaded:function(){this.loaded=!0},mapIsLoading:function(){this.loaded=!1},setColor:function(e){return e>95?"#990100":e>90?"#cc0001":e>85?"#fe0000":e>80?"#ff3300":e>75?"#ff6600":e>70?"#fe9900":e>65?"#ffcc00":e>60?"#fffc00":e>55?"#cbfe33":e>50?"#98ff66":e>45?"#67ff9a":e>40?"#33ffcc":e>35?"#00ffff":e>30?"#00ccff":e>25?"#0099ff":e>20?"#0166ff":e>15?"#0000fe":e>10?"#0033ff":e>5?"#0000cc":"#000098"}},computed:{imageFilename:function(){var e=this.selectedBird.replace(/\s+/g,"-").toLowerCase()+".png";return e},highlightedCounty:function(){var e=this,t=this.birdData.find(function(t){return t.County.match(e.selectedCounty)&&t.Species.match(e.selectedBird)});return t.activeColor=this.setColor(t.percent_gardens_2018),t}},created:function(){var e=this;fetch("data/birddata.json").then(function(e){return e.json()}).then(function(t){var n=[];e.birdData=t,t.filter(function(e){if(-1===n.indexOf(e.Species)&&e.percent_gardens_2018>40)return n.push(e.Species)}),e.birdOptions=n.sort()}),fetch("data/counties.json").then(function(e){return e.json()}).then(function(t){e.counties=t})}},T=b,_=(n("nNx0"),Object(u["a"])(T,o,a,!1,null,null,null)),C=_.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(C)}}).$mount("#app")},XfpW:function(e,t,n){"use strict";var r=n("Edo9"),o=n.n(r);o.a},boi5:function(e,t,n){},nNx0:function(e,t,n){"use strict";var r=n("boi5"),o=n.n(r);o.a},stqN:function(e,t,n){"use strict";var r=n("3EjE"),o=n.n(r);o.a}});
//# sourceMappingURL=app.eb890367.js.map